# $NetBSD: Makefile,v 1.22 2011/09/07 23:45:06 joerg Exp $
#

DISTNAME=		pygame-1.8.1release
PKGNAME=		${PYPKGPREFIX}-game-1.8.1
PKGREVISION=		8
CATEGORIES=		devel
MASTER_SITES=		http://pygame.org/ftp/

MAINTAINER=		pkgsrc-users@NetBSD.org
HOMEPAGE=		http://pygame.org/
COMMENT=		Set of Python modules designed for writing games
LICENSE=		gnu-lgpl-v2.1

PKG_DESTDIR_SUPPORT=	user-destdir

PY_PATCHPLIST=		yes
PYDISTUTILSPKG=		yes

# XXX
post-extract:
	${CHMOD} go+r ${WRKSRC}/lib/*

post-install:
	${CHMOD} 644 ${DESTDIR}${PREFIX}/${PYINC}/pygame/*.h
	${CHMOD} 644 ${DESTDIR}${PREFIX}/${PYSITELIB}/pygame/*.bmp
	${CHMOD} 644 ${DESTDIR}${PREFIX}/${PYSITELIB}/pygame/*.ico
	${CHMOD} 644 ${DESTDIR}${PREFIX}/${PYSITELIB}/pygame/*.icns
	${CHMOD} 644 ${DESTDIR}${PREFIX}/${PYSITELIB}/pygame/*.ttf
	${CHMOD} 644 ${DESTDIR}${PREFIX}/${PYSITELIB}/pygame/*.tiff

.include "../../mk/compiler.mk"

.if !empty(PKGSRC_COMPILER:Mclang)
CFLAGS+=	-no-integrated-as
.endif

.include "../../audio/SDL_mixer/buildlink3.mk"
.include "../../devel/SDL_ttf/buildlink3.mk"
.include "../../graphics/SDL_image/buildlink3.mk"
.include "../../lang/python/extension.mk"
.include "../../multimedia/smpeg/buildlink3.mk"
.include "../../math/py-numpy/buildlink3.mk"

.include "../../mk/bsd.pkg.mk"
